(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{2270:(e,t,s)=>{"use strict";var r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,s)=>new Promise((r,o)=>{var n=e=>{try{l(s.next(e))}catch(e){o(e)}},a=e=>{try{l(s.throw(e))}catch(e){o(e)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,a);l((s=s.apply(e,t)).next())}),i={};((e,t)=>{for(var s in t)r(e,s,{get:t[s],enumerable:!0})})(i,{SessionContextProvider:()=>u,useSession:()=>b,useSessionContext:()=>h,useSupabaseClient:()=>m,useUser:()=>p}),e.exports=((e,t,s,l)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of n(t))a.call(e,s)||void 0===s||r(e,s,{get:()=>t[s],enumerable:!(l=o(t,s))||l.enumerable});return e})(r({},"__esModule",{value:!0}),i);var c=s(2115),d=s(5155),x=(0,c.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),u=({supabaseClient:e,initialSession:t=null,children:s})=>{let[r,o]=(0,c.useState)(t),[n,a]=(0,c.useState)(!t),[i,u]=(0,c.useState)();(0,c.useEffect)(()=>{!r&&t&&o(t)},[r,t]),(0,c.useEffect)(()=>{let t=!0;return!function(){l(this,null,function*(){let{data:{session:s},error:r}=yield e.auth.getSession();if(t){if(r){u(r),a(!1);return}o(s),a(!1)}})}(),()=>{t=!1}},[]),(0,c.useEffect)(()=>{let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{t&&("SIGNED_IN"===e||"TOKEN_REFRESHED"===e||"USER_UPDATED"===e)&&o(t),"SIGNED_OUT"===e&&o(null)});return()=>{t.unsubscribe()}},[]);let h=(0,c.useMemo)(()=>n?{isLoading:!0,session:null,error:null,supabaseClient:e}:i?{isLoading:!1,session:null,error:i,supabaseClient:e}:{isLoading:!1,session:r,error:null,supabaseClient:e},[n,r,i]);return(0,d.jsx)(x.Provider,{value:h,children:s})},h=()=>{let e=(0,c.useContext)(x);if(void 0===e)throw Error("useSessionContext must be used within a SessionContextProvider.");return e};function m(){let e=(0,c.useContext)(x);if(void 0===e)throw Error("useSupabaseClient must be used within a SessionContextProvider.");return e.supabaseClient}var b=()=>{let e=(0,c.useContext)(x);if(void 0===e)throw Error("useSession must be used within a SessionContextProvider.");return e.session},p=()=>{var e,t;let s=(0,c.useContext)(x);if(void 0===s)throw Error("useUser must be used within a SessionContextProvider.");return null!=(t=null==(e=s.session)?void 0:e.user)?t:null}},3137:(e,t,s)=>{Promise.resolve().then(s.bind(s,9690))},4366:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(5155),o=s(2115),n=s(6874),a=s.n(n),l=s(6766),i=s(9911),c=s(5695);function d(){let[e,t]=(0,o.useState)(!1),s=(0,c.usePathname)();return(0,r.jsxs)("nav",{className:"fixed w-full z-50 bg-stone-50/60 dark:bg-stone-900/70 backdrop-blur-sm border-b border-stone-200/50 dark:border-stone-700/80",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(a(),{href:"/",className:"flex items-center",children:(0,r.jsx)(l.default,{src:"/images/nav-logo.png",alt:"Courtown BMX",width:2e3,height:2e3,className:"h-12 w-auto",priority:!0})})}),(0,r.jsx)("div",{className:"hidden lg:block",children:(0,r.jsxs)("div",{className:"ml-10 flex items-center space-x-4",children:[(0,r.jsx)(a(),{href:"/",className:"px-3 py-2 transition-colors font-semibold ".concat("/"===s?"text-yellow-400":"text-stone-900 dark:text-stone-200 hover:text-yellow-400"),children:"Home"}),(0,r.jsx)(a(),{href:"/events",className:"px-3 py-2 transition-colors font-semibold ".concat("/events"===s?"text-yellow-400":"text-stone-900 dark:text-stone-200 hover:text-yellow-400"),children:"Events"}),(0,r.jsx)(a(),{href:"/membership",className:"px-3 py-2 transition-colors font-semibold ".concat("/membership"===s?"text-yellow-400":"text-stone-900 dark:text-stone-200 hover:text-yellow-400"),children:"Membership"}),(0,r.jsx)(a(),{href:"/information",className:"px-3 py-2 transition-colors font-semibold ".concat("/information"===s?"text-yellow-400":"text-stone-900 dark:text-stone-200 hover:text-yellow-400"),children:"Information"})]})}),(0,r.jsxs)("div",{className:"hidden lg:flex items-center space-x-4",children:[(0,r.jsx)(a(),{href:"https://www.instagram.com/courtownbmx/",target:"_blank",className:"text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",children:(0,r.jsx)(i.ao$,{className:"h-5 w-5"})}),(0,r.jsx)(a(),{href:"https://www.facebook.com/people/Courtown-BMX/61559028380966/",target:"_blank",className:"text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",children:(0,r.jsx)(i.iYk,{className:"h-5 w-5"})}),(0,r.jsx)(a(),{href:"https://chat.whatsapp.com/I28VDPqtCbbIId4dubFHzK",target:"_blank",className:"text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",children:(0,r.jsx)(i.EcP,{className:"h-5 w-5"})}),(0,r.jsx)(a(),{href:"/information",className:"bg-purple-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-purple-700 transition-colors",children:"Contact"})]}),(0,r.jsxs)("button",{onClick:()=>t(!e),className:"lg:hidden p-2 rounded-md text-stone-900 dark:text-stone-200 hover:bg-stone-200/50 dark:hover:bg-stone-900/50 transition-colors",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsxs)("div",{className:"w-6 h-5 relative flex items-center justify-center",children:[(0,r.jsx)("span",{className:"absolute h-0.5 bg-current transform transition-all duration-300 ".concat(e?"w-7 rotate-45":"w-6 -translate-y-2")}),(0,r.jsx)("span",{className:"absolute h-0.5 w-6 bg-current transition-all duration-300 ".concat(e?"opacity-0":"")}),(0,r.jsx)("span",{className:"absolute h-0.5 bg-current transform transition-all duration-300 ".concat(e?"w-7 -rotate-45":"w-6 translate-y-2")})]})]})]})}),(0,r.jsxs)("div",{className:"lg:hidden absolute top-16 inset-x-0 bg-stone-50/55 dark:bg-stone-900/85 backdrop-blur-sm transition-all duration-300 ease-in-out ".concat(e?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:[(0,r.jsxs)("div",{className:"px-4 pt-2 pb-4 space-y-1",children:[(0,r.jsx)(a(),{href:"/",className:"block px-3 py-2 text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",onClick:()=>t(!1),children:"Home"}),(0,r.jsx)(a(),{href:"/events",className:"block px-3 py-2 text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",onClick:()=>t(!1),children:"Events"}),(0,r.jsx)(a(),{href:"/membership",className:"block px-3 py-2 text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",onClick:()=>t(!1),children:"Membership"}),(0,r.jsx)(a(),{href:"/information",className:"block px-3 py-2 text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",onClick:()=>t(!1),children:"Information"})]}),(0,r.jsxs)("div",{className:"px-4 py-4 border-t border-stone-200/50 dark:border-stone-700/50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,r.jsx)(a(),{href:"https://instagram.com",target:"_blank",className:"text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",onClick:()=>t(!1),children:(0,r.jsx)(i.ao$,{className:"h-5 w-5"})}),(0,r.jsx)(a(),{href:"https://facebook.com",target:"_blank",className:"text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",onClick:()=>t(!1),children:(0,r.jsx)(i.iYk,{className:"h-5 w-5"})}),(0,r.jsx)(a(),{href:"https://whatsapp.com",target:"_blank",className:"text-stone-900 dark:text-stone-200 hover:text-yellow-400 transition-colors",onClick:()=>t(!1),children:(0,r.jsx)(i.EcP,{className:"h-5 w-5"})})]}),(0,r.jsx)(a(),{href:"/contact",className:"block w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors text-center",onClick:()=>t(!1),children:"Contact"})]})]})]})}},9690:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5155),o=s(2115),n=s(5695),a=s(2270),l=s(4366);function i(){let[e,t]=(0,o.useState)(""),[s,i]=(0,o.useState)(""),[c,d]=(0,o.useState)(!1),[x,u]=(0,o.useState)(""),h=(0,a.useSupabaseClient)(),m=(0,n.useRouter)(),b=async t=>{t.preventDefault(),d(!0),u("");let{data:r,error:o}=await h.auth.signInWithPassword({email:e,password:s});o?u("Error: ".concat(o.message)):r.user?(u("Logged in! Redirecting..."),m.push("/dashboard")):u("Login failed. Please check your credentials."),d(!1)};return(0,r.jsxs)("main",{className:"min-h-screen bg-stone-50 text-stone-900 dark:bg-stone-900 dark:text-stone-50",children:[(0,r.jsx)(l.default,{}),(0,r.jsxs)("div",{className:"pt-24 pb-12",children:[(0,r.jsx)("h1",{className:"text-5xl font-bold text-center",children:"Admin Login"}),(0,r.jsx)("p",{className:"text-center text-stone-600 dark:text-stone-400 mt-4 text-lg",children:"Sign in to access the administrative dashboard"})]}),(0,r.jsx)("div",{className:"max-w-lg mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:(0,r.jsx)("div",{className:"bg-white dark:bg-stone-800 rounded-xl shadow-lg border border-stone-200/50 dark:border-stone-700/80 p-8",children:(0,r.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-base font-semibold text-stone-800 dark:text-stone-100",children:"Email Address *"}),(0,r.jsx)("input",{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg border border-stone-300 dark:border-stone-700 bg-stone-50 dark:bg-stone-800 text-stone-900 dark:text-stone-50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-base font-semibold text-stone-800 dark:text-stone-100",children:"Password *"}),(0,r.jsx)("input",{id:"password",type:"password",placeholder:"Enter your password",value:s,onChange:e=>i(e.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg border border-stone-300 dark:border-stone-700 bg-stone-50 dark:bg-stone-800 text-stone-900 dark:text-stone-50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition"})]}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2 dark:focus:ring-offset-stone-800",children:c?"Signing In...":"Sign In"}),x&&(0,r.jsx)("div",{className:"p-4 rounded-lg text-sm text-center ".concat(x.startsWith("Error")?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-200 dark:border-red-800":"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-800"),children:x})]})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[711,960,441,684,358],()=>t(3137)),_N_E=e.O()}]);